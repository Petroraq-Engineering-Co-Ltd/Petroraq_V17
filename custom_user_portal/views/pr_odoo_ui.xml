<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <!-- List view for Purchase Requisition -->
    <record id="view_purchase_requisition_list" model="ir.ui.view">
        <field name="name">purchase.requisition.list</field>
        <field name="model">purchase.requisition</field>
        <field name="arch" type="xml">
            <list>
                <field name="name"/>
                <field name="requested_by"/>
                <field name="approval"/>
                <field name="date_request"/>
            </list>
        </field>
    </record>
    <!-- Form view for Purchase Requisition -->
    <record id="view_purchase_requisition_form" model="ir.ui.view">
        <field name="name">purchase.requisition.form</field>
        <field name="model">purchase.requisition</field>
        <field name="arch" type="xml">
            <form string="Purchase Requisition">
                <header>
                    <button name="action_create_rfq"
                        type="object"
                        string="Create RFQ"
                        class="btn-primary"
                        groups="custom_user_portal.procurement_admin"/>
                </header>
                <sheet>
                    <group>
                        <group>
                            <field name="name" readonly="1"/>
                            <field name="date_request" readonly="1"/>
                            <field name="department" readonly="1"/>
                            <field name="supervisor" readonly="1"/>
                            <field name="vendor_id" groups="custom_user_portal.procurement_admin"/>
                        </group>
                        <group>
                            <field name="required_date" readonly="1"/>
                            <field name="priority" readonly="1"/>
                            <field name="budget_type" readonly="1"/>
                            <field name="budget_details" readonly="1"/>
                            <field name="approval" groups="!custom_user_portal.procurement_admin"/>
                        </group>
                    </group>
                    <notebook>
                        <page string="Products">
                            <field name="line_ids" readonly="1">
                                <list editable="bottom">
                                    <field name="unit"/>
                                    <field name="description"/>
                                    <field name="type"/>
                                    <field name="quantity"/>
                                    <field name="unit_price"/>
                                </list>
                            </field>
                        </page>
                        <page string="Notes">
                            <group>
                                <field name="notes" readonly="1"/>
                            </group>
                        </page>
                        <page string="Comments">
                            <group>
                                <field name="comments"/>
                            </group>
                        </page>
                    </notebook>
                    <div class="total_amount_main">
                        <div class="total_amount_quotation">
                            <div class="total_padding total-amount-highlight">
                                <label for="total_excl_vat" style="padding: 0px 8px;"></label>
                                <field name="total_excl_vat" readonly="1" class="oe_inline"/>
                                
                            </div>
                            <!-- <div class="total_padding total-amount-highlight">
                                <label for="vat_amount" style="padding: 0px 8px;"></label>
                                <field name="vat_amount" readonly="1" class="oe_inline"/>
                            </div>
                            <div class="total_padding total-amount-highlight">
                                <label for="total_incl_vat" style="padding: 0px 8px;"></label>
                                <field name="total_incl_vat" readonly="1" class="oe_inline"/>
                            </div> -->
                        </div>
                    </div>
                </sheet>
            </form>
        </field>
    </record>
    <!-- Action for Purchase Requisition list -->
    <record id="action_purchase_requisition_list" model="ir.actions.act_window">
        <field name="name">Purchase Requisitions</field>
        <field name="res_model">purchase.requisition</field>
        <field name="view_mode">list,form</field>
        <field name="type">ir.actions.act_window</field>
    </record>
    <!-- Menu item under Purchase -->
    <menuitem id="menu_purchase_requisition_main"
              name="Requisitions"
              parent="purchase.menu_purchase_root"
              action="action_purchase_requisition_list"
              sequence="130"/>
</odoo>