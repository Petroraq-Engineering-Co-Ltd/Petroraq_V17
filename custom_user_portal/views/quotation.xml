<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <record id="view_purchase_quotation_list" model="ir.ui.view">
        <field name="name">purchase.quotation.list</field>
        <field name="model">purchase.quotation</field>
        <field name="arch" type="xml">
            <list>
                <field name="vendor_id"/>
                <field name="rfq_origin"/>
                <field name="vendor_ref"/>
                <field name="is_best_badge" widget="badge" decoration-success="is_best_badge" readonly="1"/>
                <field name="order_deadline"/>
                <field name="expected_arrival"/>
            </list>
        </field>
    </record>
    <record id="view_purchase_quotation_form" model="ir.ui.view">
        <field name="name">purchase.quotation.form</field>
        <field name="model">purchase.quotation</field>
        <field name="arch" type="xml">
            <form string="Quotation">
                <header>
                <button name="action_create_purchase_order"
                        type="object"
                        string="Confirm Order"
                        class="btn-primary"
                        groups="custom_user_portal.procurement_admin"/>
                </header>
                    <sheet>
                        <group>
                            <group>
                                <field name="vendor_id" readonly="1"/>
                                <field name="rfq_origin" readonly="1"/>
                            </group>
                            <group>
                                <field name="vendor_ref" readonly="1"/>
                                <field name="order_deadline" readonly="1"/>
                                <field name="expected_arrival" readonly="1"/>
                            </group>
                        </group>
                        <notebook>
                            <page string="Products">
                                <field name="line_ids" mode="list" editable="bottom" readonly="1">
                                    <list>
                                        <field name="display_name_ui" string="Product" readonly="1" />
                                        <field name="description" readonly="1"/>
                                        <field name="quantity" readonly="1"/>
                                        <field name="unit_price" readonly="1"/>
                                    </list>
                                </field>
                            </page>
                            <page string="Supplier Information">
                                <group>
                                    <group>
                                        <field name="supplier_name" readonly="1"/>
                                        <field name="supplier_id" readonly="1"/>
                                        <field name='quotation_ref' readonly="1"/>
                                    </group>
                                    <group>
                                        <field name="contact_person" readonly="1"/>
                                        <field name="company_address" readonly="1"/>
                                        <field name="phone_number" readonly="1"/>
                                        <field name="email_address" readonly="1"/>
                                    </group>
                                </group>
                            </page>
                            <page string="Terms and Conditions">
                                <group>
                                    <!-- Payment Terms -->
                                    <group string="Payment Terms" col="2">
                                        <field name="terms_net" readonly="1"/>
                                        <field name="terms_30days" readonly="1"/>
                                        <field name="terms_advance" readonly="1"/>
                                        <field name="terms_advance_specify" invisible="not terms_advance" readonly="1"/>
                                        <field name="terms_delivery" readonly="1"/>
                                        <field name="terms_other" readonly="1"/>
                                        <field name="terms_others_specify" invisible="not terms_other" readonly="1"/>
                                    </group>
                                    <!-- Production / Material Availability -->
                                    <group string="Production Details" col="2">
                                        <field name="ex_stock" readonly="1"/>
                                        <field name="required_days" readonly="1"/>
                                        <field name="production_days" invisible="not required_days" readonly="1"/>
                                    </group>
                                    <!-- Delivery Terms -->
                                    <group string="Delivery Terms" col="2">
                                        <field name="ex_work" readonly="1"/>
                                        <field name="delivery_site" readonly="1"/>
                                        <field name="delivery_date" readonly="1"/>
                                    </group>
                                    <!-- Delivery Method -->
                                    <group string="Delivery Method" col="2">
                                        <field name="delivery_courier" readonly="1"/>
                                        <field name="delivery_pickup" readonly="1"/>
                                        <field name="delivery_freight" readonly="1"/>
                                        <field name="delivery_others" readonly="1"/>
                                        <field name="delivery_others_specify" invisible="not delivery_others" readonly="1"/>
                                    </group>
                                    <!-- Partial Order Acceptance -->
                                    <group string="Partial Order Acceptance" col="2">
                                        <field name="partial_yes" readonly="1"/>
                                        <field name="partial_no" readonly="1"/>
                                    </group>
                                </group>
                            </page>
                            <page string="Budget Info" name="budget_info">
                            <group>
                                <group>
                                    <field name="project_id" readonly="1"/>
                                    <field name="budget_type" readonly="1"/>
                                    <field name="budget_code" readonly="1"/>
                                </group>
                                <group>
                                    <field name="project_budget_allowance" readonly="1"/>
                                    <field name="budget_left" readonly="1"/>
                                </group>
                            </group>
                            </page>
                            <page string="Notes">
                                <group>
                                    <field name="notes" readonly="1"/>
                                </group>
                            </page>
                        </notebook>
                        <div class="total_amount_main">
                            <div class="total_amount_quotation">
                                <div class="total_padding total-amount-highlight">
                                    <label for="total_excl_vat" style="padding: 0px 8px;">Total Amount:</label>
                                    <field name="total_excl_vat" readonly="1" class="oe_inline"/>
                                </div>
                                <!-- <div class="total_padding total-amount-highlight">
                                    <label for="vat_amount" style="padding: 0px 8px;">VAT (15%):</label>
                                    <field name="vat_amount" readonly="1" class="oe_inline"/>
                                </div>
                                <div class="total_padding total-amount-highlight">
                                    <label for="total_incl_vat" style="padding: 0px 8px;">Total Incl. VAT:</label>
                                    <field name="total_incl_vat" readonly="1" class="oe_inline"/>
                                </div> -->
                            </div>
                        </div>
                    </sheet>
            </form>
        </field>
    </record>
    <record id="action_purchase_quotation_list" model="ir.actions.act_window">
        <field name="name">Quotations</field>
        <field name="res_model">purchase.quotation</field>
        <field name="view_mode">list,form</field>
        <field name="type">ir.actions.act_window</field>
    </record>
    <menuitem id="menu_purchase_quotation_main"
              name="Quotations"
              parent="purchase.menu_purchase_root"
              action="action_purchase_quotation_list"
              sequence="140"/>
</odoo>