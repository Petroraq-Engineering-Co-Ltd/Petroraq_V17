<?xml version="1.0" encoding="UTF-8" ?>
<odoo>
    <!-- Report Action -->
    <record id="action_report_petroraq_draft_invoice" model="ir.actions.report">
        <field name="name">PetroRaq Draft Invoice</field>
        <field name="model">purchase.order</field>
        <field name="report_type">qweb-pdf</field>
        <field name="report_name">custom_pr_system.report_petroraq_draft_invoice</field>
        <field name="report_file">custom_pr_system.report_petroraq_draft_invoice</field>
        <field name="print_report_name">'PetroRaq_Draft_Invoice_' + object.name</field>
        <field name="binding_model_id" ref="purchase.model_purchase_order"/>
        <field name="binding_type">report</field>
    </record>
    <template id="report_petroraq_draft_invoice">
        <t t-call="web.external_layout">
            <main>
                <div class="page" style="margin-top:0; padding-top:0;">
                    <div style="text-align:right;">
                        <t t-esc="docs[0].requested_by"/>
                    </div>
                    <div style="text-align:right;">
                        <t t-esc="docs[0].department"/>
                    </div>
                    <table class='table table-borderless' style="width:100%; margin:20px 0;">
                        <tr>
                            <td style="text-align:left; width:33%;">
                                <h5 style="margin:0;">Draft Invoice</h5>
                            </td>
                            <td style="text-align:center; width:34%; ">
                                <h5 style="margin:0;">
                                    <t t-esc="docs[0].name"/>
                                </h5>
                            </td>
                            <td style="text-align:right; width:33%;">
                                <h5 style="margin:0;">مسودة فاتورة</h5>
                            </td>
                        </tr>
                    </table>

                     <table class='table table-borderless' style="width:100%; margin:20px 0;">
                        <tr>
                            <td style="text-align:left; width:33%;">
                                <h6 style="margin:0;">Invoice Date:</h6>
                            </td>
                            <td style="text-align:center; width:34%; ">
                                <h6 style="margin:0;">
                                    <t t-esc="docs[0].date_request or ''"/>
                                </h6>
                            </td>
                            <td style="text-align:right; width:33%;">
                                <h6>:تاريخ الفاتورة</h6>
                            </td>
                        </tr>
                        <tr>
                            <td style="text-align:left; width:33%;">
                                <h6 style="margin:0;">Delivery Date:</h6>
                            </td>
                            <td style="text-align:center; width:34%; ">
                                <h6 style="margin:0;">
                                    <t t-esc="docs[0].date_planned or ''"/>
                                </h6>
                            </td>
                            <td style="text-align:right; width:33%;">
                                <h6>:تاريخ التوصيل</h6>
                            </td>
                        </tr>
                         <tr>
                            <td style="text-align:left; width:33%;">
                                <h6 style="margin:0;">Source:</h6>
                            </td>
                            <td style="text-align:center; width:34%; ">
                                <h6 style="margin:0;">
                                     <t t-esc="docs[0].origin or ''"/>
                                </h6>
                            </td>
                            <td style="text-align:right; width:33%;">
                                <h6>:رقم الإشارة</h6>
                            </td>
                        </tr>
                         <tr>
                            <td style="text-align:left; width:33%;">
                                <h6 style="margin:0;">Reference:</h6>
                            </td>
                            <td style="text-align:center; width:34%; ">
                                <h6 style="margin:0;">
                                    <t t-esc="docs[0].supervisor or ''"/>
                                </h6>
                            </td>
                            <td style="text-align:right; width:33%;">
                                <h6>:رقم الإشارة</h6>
                            </td>
                        </tr>
                    </table>
                    <table class="table table-sm table-bordered" style="width:100%; border-collapse:collapse;">
                        <thead>
                            <tr>
                                <th>Description /
                                    <span>الوصف</span>
                                </th>
                                <th>Quantity /
                                    <span>الكمية</span>
                                </th>
                                <th>Taxes /
                                    <span>اﻟﻀﺮاﺋﺐ</span>
                                </th>
                                <th>Unit Price /
                                    <span>سعر الوحدة</span>
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <t t-foreach="docs[0].custom_line_ids" t-as="l">
                                <tr>
                                    <td>
                                        <t t-esc="l.name"/>
                                    </td>
                                    <td>
                                        <t t-esc="l.quantity"/>
                                    </td>
                                    <td>
                                        <span>15%</span>
                                    </td>
                                    <td>
                                        <t t-esc="l.price_unit"/>
                                    </td>
                                </tr>
                            </t>
                        </tbody>
                    </table>
                    <table style="width:100%; margin-top:10px;">
                    <tbody>
                        <tr>
                            <td style="text-align:right;">Subtotal /
                                <span>الاجمالي الفرعي</span>
                            </td>
                            <td style="text-align:right;">
                                <t t-esc="docs[0].subtotal"/>
                            </td>
                        </tr>
                        <tr>
                            <td style="text-align:right;">VAT 15% /
                                <span>الضريبة</span>
                            </td>
                            <td style="text-align:right;">
                                <t t-esc="docs[0].tax_15"/>
                            </td>
                        </tr>
                        <tr>
                            <td style="text-align:right;">Total /
                                <span>المجموع</span>
                            </td>
                            <td style="text-align:right;">
                                <t t-esc="docs[0].grand_total"/>
                            </td>
                        </tr>
                    </tbody>
                    </table>
                    <table class='table table-borderless' style="width:100%; margin:20px 0;">
                        <tr>
                            <td style="text-align:left; width:33%;">
                                <h6 style="margin:0;">Payment Reference:</h6>
                            </td>
                            <td style="text-align:center; width:34%; ">
                                <h6 style="margin:0;">via Bank</h6>
                            </td>
                            <td style="text-align:right; width:33%;">
                                <h6>: رقم إشارة الدفع</h6>
                            </td>
                        </tr>
                </table>
                    
                        <p style="text-align:end;">Payment terms: Immediate Payment</p>
                </div>
              
            </main>
        </t>
    </template>
</odoo>