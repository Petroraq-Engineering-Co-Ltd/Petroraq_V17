<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="1">
        <record id="petroraq_custom_sale_email" model="mail.template">
            <field name="name">Petroraq Sale Quotation</field>
            <field name="model_id" ref="sale.model_sale_order"/>
            <field name="email_from">{{ (object.user_id.email_formatted or object.company_id.email_formatted or
                user.email_formatted) }}
            </field>
            <field name="email_to">${(object.inquiry_contact_person_email or object.partner_id.email)}</field>
            <field name="partner_to">{{ object.partner_id.id }}</field>

            <field name="subject">Petroraq Request For Quotation</field>
            <field name="auto_delete" eval="True"/>
            <field name="report_template_ids" eval="[(4, ref('sale.action_report_saleorder'))]"/>

            <field name="body_html">
                <![CDATA[ <p style="font-size:13px;"> <t t-set="doc_name" t-value="'quotation' if object.state in ('draft','sent') else 'order'"/> Hello,<br/><br/> Your <t t-out="doc_name"/> <strong t-out="object.name"/> <t t-if="object.origin">(Reference: <t t-out="object.origin"/>)</t> amounting to <strong t-out="format_amount(object.final_grand_total, object.currency_id)"/> is ready for review. <br/><br/> Do not hesitate to contact us. <t t-if="not is_html_empty(object.user_id.signature)"> <br/><br/> <t t-out="object.user_id.signature"/> </t> </p> ]]></field>
        </record>
    </data>
    <data noupdate="1">
        <record id="petroraq_custom_proforma_email" model="mail.template">
            <field name="name">Send Pro-forma</field>
            <field name="model_id" ref="sale.model_sale_order"/>
            <field name="email_from">{{ (object.user_id.email_formatted or object.company_id.email_formatted or
                user.email_formatted) }}
            </field>
            <field name="partner_to">{{ object.partner_id.id }}</field>

            <field name="email_to">${(object.inquiry_contact_person_email or object.partner_id.email)}</field>
            <field name="subject">Petroraq Pro-Forma Invoice</field>
            <field name="auto_delete" eval="True"/>
            <field name="report_template_ids" eval="[(4, ref('sale.action_report_pro_forma_invoice'))]"/>

            <field name="body_html">
                <![CDATA[
    <p style="font-size:13px;">
        <t t-set="doc_name"
           t-value="'Proforma Invoice' if object.state in ('draft','sent') else 'Sales Order'"/>

        Hello,<br/><br/>

        Please pay <strong t-out="object.proforma_dp"/>% down payment against your
        <t t-out="doc_name"/>
        <strong><t t-out="object.name"/></strong>
        <t t-if="object.origin">
            (Reference: <t t-out="object.origin"/>)
        </t>
        amounting to
        <strong t-out="format_amount(object.amount_untaxed, object.currency_id)"/>.
        <br/><br/>

        Do not hesitate to contact us.
        <t t-if="not is_html_empty(object.user_id.signature)">
            <br/><br/>
            <t t-out="object.user_id.signature"/>
        </t>
    </p>
    ]]>
            </field>

        </record>
    </data>
</odoo>